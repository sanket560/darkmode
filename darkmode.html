<!DOCTYPE html>
<html lang="en">
<head>

  <style>

    /* Light Mode Button Styles
    --------------------------- */ 

    .light-mode-button {
        background:0;
        border: 0;
        box-sizing: border-box;
        cursor: pointer;
        height: 40px;
        width: 100px;
        position: relative;
        border: 1px solid rgba(255,255,255,0);
    }

    .light-mode-button:focus {
        outline:none; /* Not ideal for accessibility */
    }

    .light-mode-button span:nth-child(1) {
        position: absolute;
        top:0;
        left:0;
        width: 100px;
        height:40px;
        border-radius: 20px;
        background-color: #d6d7db;
        box-shadow: inset 1px 1px 3px 0 rgb(0 0 0 / 40%);
        transition: .3s;
    }

    .light-mode-button span:nth-child(2) {
        position: absolute;
        top:5px;
        left:5px;
        width: 30px;
        height: 30px;
        background-color: #fff;
        border-radius: 50%;
        box-shadow: 1px 1px 2px 0 rgb(0 0 0 / 40%);
        transition: .3s;
    }

    body {
    background-color: #f6f6f6;
    transition: background-color .3s;
}

body[light-mode=dark] {
    background-color: #141516;
    color: #ced4e2;
}

body[light-mode="dark"] .light-mode-button span:nth-child(1){
    background-color: #ced4e2;
    color: #141516;
}

body[light-mode=dark] .light-mode-button span:nth-child(2) {
    left: 65px;
    background-color: #141516;
}

</style>

    <title>dark mode</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css'><link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="darkmode.css">
    <link rel='stylesheet' href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css'><link rel="stylesheet" href="./style.css">
</head>
<body>

<script>
    var app = document.getElementsByTagName("BODY")[0];
    if (localStorage.lightMode == "dark") {
        app.setAttribute("light-mode", "dark");
    }
</script>  

    <div class="container">
       <h1>Dark Mode switch</h1>
       <center>
           <button class="light-mode-button" aria-label="Toggle Light Mode" onclick="toggle_light_mode()">
                <span></span>
                <span></span>
            </button>
        </center> 
    </div>

    <script>
        function toggle_light_mode() {
            var app = document.getElementsByTagName("BODY")[0];
            if (localStorage.lightMode == "dark") {
            localStorage.lightMode = "light";
            app.setAttribute("light-mode", "light");
            } else {
            localStorage.lightMode = "dark";
            app.setAttribute("light-mode", "dark");
            }		
        }
    </script>
  
</body>
</html>